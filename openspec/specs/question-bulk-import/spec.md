# 题目批量导入

## 目的

提供批量导入题目功能，提高题库管理效率，支持一次性导入多道题目。

## 需求

### 需求：批量导入题目

系统必须支持批量导入题目以提高管理效率。

#### 场景：成功批量导入
- **当** 管理员 POST 题目数组到 `/api/admin/questions/import`
- **那么** 系统返回 200 OK 状态码
- **并且** 所有有效题目被保存到数据库
- **并且** 响应包含导入统计：imported 数量, failed 数量, errors 数组

#### 场景：部分题目无效
- **当** 导入的题目数组中包含无效数据
- **那么** 系统跳过无效题目
- **并且** 继续处理有效题目
- **并且** 响应的 errors 数组包含每个失败题目的原因

#### 场景：导入事务性
- **当** 批量导入过程中发生严重错误（如数据库连接失败）
- **那么** 系统回滚所有已导入的题目
- **并且** 返回 500 Internal Server Error

### 需求：导入格式验证

系统必须验证导入数据的格式。

#### 场景：有效的 JSON 数组格式
- **当** 请求体是有效的题目 JSON 数组
- **那么** 系统正常处理导入

#### 场景：无效的 JSON 格式
- **当** 请求体不是有效的 JSON 或不是数组
- **那么** 系统返回 400 Bad Request
- **并且** 错误消息说明格式要求

#### 场景：空数组导入
- **当** 管理员导入空数组
- **那么** 系统返回 200 OK
- **并且** imported 数量为 0

### 需求：导入限制

系统必须对批量导入设置合理限制。

#### 场景：单次导入数量限制
- **当** 单次导入超过 100 道题目
- **那么** 系统返回 413 Payload Too Large
- **并且** 错误消息说明单次最多导入 100 道

#### 场景：请求体大小限制
- **当** 导入请求体超过 5MB
- **那么** 系统返回 413 Payload Too Large

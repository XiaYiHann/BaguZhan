# 题库统计

## 目的

提供题库整体统计信息，帮助管理员了解题库的状态和分布情况。

## 需求

### 需求：题库统计信息

系统必须提供题库的整体统计信息。

#### 场景：获取总体统计
- **当** 管理员 GET `/api/admin/stats`
- **那么** 系统返回 200 OK 状态码
- **并且** 响应包含 totalQuestions（题目总数）
- **并且** 响应包含 byTopic（按主题分组的题目数）
- **并且** 响应包含 byDifficulty（按难度分组的题目数）

#### 场景：按主题分组统计
- **当** 获取统计信息时
- **那么** byTopic 必须包含所有现有主题及其题目数量
- **例如**: `{ "JavaScript": 80, "React": 40, "Vue": 30 }`

#### 场景：按难度分组统计
- **当** 获取统计信息时
- **那么** byDifficulty 必须包含 easy, medium, hard 各难度的题目数量
- **例如**: `{ "easy": 50, "medium": 60, "hard": 40 }`

### 需求：统计数据准确性

系统必须确保统计数据的准确性。

#### 场景：排除已删除题目
- **当** 计算题目总数时
- **那么** 必须排除软删除的题目（deleted_at IS NULL）

#### 场景：实时统计数据
- **当** 管理员创建、更新或删除题目后
- **那么** 下一次统计查询必须反映最新数据
